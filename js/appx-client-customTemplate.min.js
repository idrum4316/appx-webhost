/**************************************************************************
**@File: appx-client-custom.js
**@Company: APPX Software, Inc. (www.appx.com)
**@Programmer: John Nelson
**@Last Edited By: John Nelson (www.sisolutionsde.com)
**@Date Created: 8 Mar 2018
**@Date Last Modified: 8 Mar 2018
**@Description: Extends widget functionality to allow user defined 
**custom widgets. Also extends option functionality on widgets to allow
**users to override what an option does on widget callback.
**@Function: extendWidget
***************************************************************************/
function extendWidget(){appx_session.createWidgetTag[999]=function(t,a){return a=$("<canvas>").addClass("signaturepad"),$(function(){setTimeout(function(){appx_session.signaturePad=new SignaturePad($(".signaturepad")[0])
appx_session.signaturePad.toData()
setTimeout(function(){var t=Math.max(window.devicePixelRatio||1,1)
$(".signaturepad")[0].width=$(".signaturepad")[0].offsetWidth*t,$(".signaturepad")[0].height=$(".signaturepad")[0].offsetHeight*t,$(".signaturepad")[0].getContext("2d").scale(t,t),appx_session.signaturePad.clear()},0),appx_session.signaturePad.onEnd=function(){var t
appx_session.signaturePadID=$(".signaturepad").attr("id"),void 0!==HTMLCanvasElement.prototype.toBlob?$(".signaturepad")[0].toBlob(function(a){t=a}):t=$(".signaturepad")[0].msToBlob(),setTimeout(function(){var a="signature.png"+Date.now()
uploadFileToMongo(t,a,function(){$("#"+appx_session.signaturePadID).val("$(sendFile)\\"+a),$("#"+appx_session.signaturePadID).addClass("appxitem dirty")})},50)}},50)}),a}}function extendOptions(){}setTimeout(function(){extendWidget(),extendOptions()},1500)
