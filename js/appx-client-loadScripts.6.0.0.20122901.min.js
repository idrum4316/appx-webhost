/**************************************************************************
**@File: appx-client-loadScripts.js
**@Company: APPX Software, Inc.
**@Programmer: John Nelson
**@Last Edited By: John Nelson
**@Date Created: 16 December 2015
**@Date Last Modified: 14 Feb 2017
**@Description: Dynamically loads css and script required for appx to run.
**@Function: loadLinkScriptFile
**@Function: getRootContent
**@Function: loadScripts
***************************************************************************/
function createScriptsArray(e){var t="6.0.0.20122901"
arrayScripts=[{nameLoc:e+"/js/libraries/jquery-1.12.4.min.js",type:"js"},{nameLoc:e+"/js/libraries/ckeditor/ckeditor.js",type:"js"},{nameLoc:e+"/js/libraries/jquery-ui-1.11.4.min.js",type:"js"},{nameLoc:e+"/css/smoothness/jquery-ui-1.11.4.min.css",type:"css"},{nameLoc:e+"/css/jquery-ui-1.12.icon-font.min.css",type:"css"},{nameLoc:e+"/css/colpick.css",type:"css"},{nameLoc:e+"/css/nouislider.min.css",type:"css"},{nameLoc:e+"/css/nouislider.tooltips.css",type:"css"},{nameLoc:e+"/js/libraries/jqgrid-5_3_1/ui.jqgrid.css",type:"css"},{nameLoc:e+"/js/libraries/contextMenu/jquery.contextMenu.min.css",type:"css"},{nameLoc:e+"/css/APPX"+min+".css",type:"css"},{nameLoc:e+"/js/libraries/crypto/rollups/aes.js",type:"js"},{nameLoc:e+"/js/libraries/nouislider.min.js",type:"js"},{nameLoc:e+"/js/libraries/jquery.blockUI.js",type:"js"},{nameLoc:e+"/js/libraries/jquery.inputmask.bundle.js",type:"js"},{nameLoc:e+"/css/CUSTOM.css",type:"css"},{nameLoc:e+"/js/libraries/ckeditor/config.js",type:"js"},{nameLoc:e+"/js/libraries/ckeditor/adapters/jquery.js",type:"js"},{nameLoc:e+"/js/libraries/colpick.js",type:"js"},{nameLoc:e+"/css/ui.multiselect.css",type:"css"},{nameLoc:e+"/js/libraries/ui.multiselect.js",type:"js"},{nameLoc:e+"/js/libraries/jqgrid-5_3_1/i18n/grid.locale-en.js",type:"js"},{nameLoc:e+"/js/libraries/jqgrid-5_3_1/jquery.jqGrid.min.js",type:"js"},{nameLoc:e+"/js/libraries/FileSaver.min.js",type:"js"},{nameLoc:e+"/js/libraries/clipboard.min.js",type:"js"},{nameLoc:e+"/js/libraries/contextMenu/jquery.contextMenu.min.js",type:"js"},{nameLoc:e+"/js/libraries/contextMenu/jquery.ui.position.min.js",type:"js"},{nameLoc:e+"/js/libraries/signature_pad.min.js",type:"js"},{nameLoc:"css/CUSTOM.css",type:"css"},{nameLoc:e+"/js/appx-public."+t+min+".js",type:"js"},{nameLoc:e+"/js/appx-client-custom.js",type:"js"},{nameLoc:e+"/js/appx-client-noload.js",type:"js"}]}function loadLinkScriptFile(e,t){if("css"==e.type){var s=document.createElement("link")
s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("href",e.nameLoc),t()}else{var s=document.createElement("script")
s.setAttribute("type","text/javascript"),s.setAttribute("defer",!0),s.setAttribute("src",e.nameLoc),s.setAttribute("async",!1),s.readyState?s.onreadystatechange=function(){"loaded"!=s.readyState&&"complete"!=s.readyState||(s.onreadstatechange=null,t())}:s.onload=function(){t()}}document.getElementsByTagName("head")[0].appendChild(s)}function loadScripts(e,t,s){t<e.length?loadLinkScriptFile(e[t],function(){loadScripts(e,++t)}):s&&s()}function getRootContent(){for(var e=document.getElementsByTagName("meta"),t=".",s=0;s<e.length;s++)if("appx-client-root"===e[s].getAttribute("name"))return t=e[s].getAttribute("content")
return t}function loadMetas(e){loadLinkScriptFile({nameLoc:"./js/appx-client-settings.js",type:"js"},function(){setMetas(function(){for(var e in metas)if("title"===e)document.title=metas[e].value
else{var t=document.createElement("meta")
t.name=e,t.content=metas[e].value,Object.prototype.hasOwnProperty.call(metas[e],"hide")&&t.setAttribute("hide",metas[e].hide),document.getElementsByTagName("head")[0].appendChild(t)}document.querySelector("meta[content='min']")&&(min=".min"),createScriptsArray(getRootContent())})
for(var t=0;t<userLibraries.length;t++)arrayScripts.push({nameLoc:getRootContent()+"/js/"+userLibraries[t],type:"js"})
loadScripts(arrayScripts,0),e()})}var arrayScripts,min="",userLibraries=[],loginText="APPX Login",metas={title:{value:"Appx Template"},"appx-login-user":{value:"",hide:"false"},"appx-login-pswd":{value:"",hide:"false"},"appx-login-host":{value:"{appx server}",hide:"false"},"appx-proxy-host":{value:"{node server}"},"appx-login-port":{value:"8060",hide:"true"},"appx-login-rows":{value:"35",hide:"true"},"appx-login-cols":{value:"144",hide:"true"},"appx-proxy-port":{value:"3014"},"appx-mongo-port":{value:"3015"},"appx-proxy-path":{value:"/appxws/"},"appx-minified-files":{value:"min"},"appx-client-root":{value:"."},"appx-use-softkeys":{value:"false"},"appx-auto-connect":{value:"false"},"appx-local-required":{value:"true"},"appx-upload-without-local":{value:"false"},"appx-recommended-upload-size":{value:"1000000"},"appx-static-tools":{value:"true"},"appx-fill-window":{value:"false"},"appx-encryption":{value:"aes"},"appx-app-name":{value:"APPX"},"appx-close-on-exit":{value:"false"}}
loadMetas(function(){document.getElementById("appx-login-text").innerHTML=loginText})
